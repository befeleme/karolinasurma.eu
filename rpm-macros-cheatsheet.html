<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>RPM macros cheatsheet &ndash; A blog</title>

    <!-- Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Social -->
    <meta property="article:author" content="Karo" />
    <meta property="article:section" content="Fedora" />
    <meta property="article:published_time" content="2025-06-16" />

    <meta property="og:type" content="article"/>
    <meta property="og:title" content="RPM macros cheatsheet"/>
    <meta property="og:description" content="Architecture macros Basic filtering %ifarch %ifnarch Macros applicable to Fedora %ix86 i386 i486 i586 i686 pentium3 pentium4 athlon geode %x86_64 x86_64 x86_64_v2 x86_64_v3 x86_64_v4 amd64 em64t %arm64 aarch64 %power64 ppc64 ppc64p7 ppc64le %riscv %{riscv32} %{riscv64} %{riscv128} s390x doesn&#39;t have a macro, use the string. Full list of arch macros Note …"/>
    <meta property="og:site_name" content="A blog" />
    <meta property="og:url" content="https://karolinasurma.eu/rpm-macros-cheatsheet.html"/>

    <!-- Feed -->
    <link rel="alternate" type="application/atom+xml" href="https://karolinasurma.eu/feeds/all.atom.xml" title="A blog Atom Feed" />

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="https://karolinasurma.eu/theme/css/opensans.css">
    <link rel="stylesheet" type="text/css" href="https://karolinasurma.eu/theme/css/w3.css">
    <link rel="stylesheet" type="text/css" href="https://karolinasurma.eu/theme/css/style.css">
    <link rel="stylesheet" type="text/css" href="https://karolinasurma.eu/theme/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://karolinasurma.eu/theme/css/pygments-highlight-github.css">

    <!-- Icon -->
    <link rel="shortcut icon" type="image/x-icon" href="https://karolinasurma.eu/./images/extra/favicon.ico">

  </head>

  <body>
    <div class="w3-row w3-card w3-white">
      <header id="header">
        <a href="https://karolinasurma.eu/" id="header-logo" title="Home">KS</a>
        <nav id="header-menu">
          <ul>
            <li class="w3-bottombar w3-border-white w3-hover-border-green"><a href="/categories.html">Categories</a></li>
            <li class="w3-bottombar w3-border-white w3-hover-border-green"><a href="/archives.html">Archive</a></li>
          </ul>
        </nav>
      </header>
    </div>



    <br><br><br>

    <article>
      <header class="w3-container col-main">
        <h1>RPM macros cheatsheet</h1>
        <div class="post-info">
          <div class="w3-opacity w3-margin-right w3-margin-bottom" style="flex-grow: 1;">
            <span><time datetime="2025-06-16T16:24:00+02:00">Mon 16 June 2025</time> in <a href="https://karolinasurma.eu/category/fedora.html" title="All articles in category Fedora">Fedora</a></span>
          </div>
          <div>
            <span class="w3-tag w3-light-grey w3-text-green w3-hover-green">
              <a href="https://karolinasurma.eu/tag/en.html" title="All articles with En tag">#EN</a>
            </span>
            <span class="w3-tag w3-light-grey w3-text-green w3-hover-green">
              <a href="https://karolinasurma.eu/tag/fedora.html" title="All articles with Fedora tag">#fedora</a>
            </span>
            <span class="w3-tag w3-light-grey w3-text-green w3-hover-green">
              <a href="https://karolinasurma.eu/tag/tools.html" title="All articles with Tools tag">#tools</a>
            </span>
          </div>
        </div>
      </header>

      <br>


      <div class="col-main w3-container">
        <section id="content">
          <h2>Architecture macros</h2>
<p>Basic filtering</p>
<div class="highlight"><pre><span></span><code>%ifarch
%ifnarch
</code></pre></div>


<p>Macros applicable to Fedora</p>
<div class="highlight"><pre><span></span><code>%ix86   i386 i486 i586 i686 pentium3 pentium4 athlon geode
%x86_64 x86_64 x86_64_v2 x86_64_v3 x86_64_v4 amd64 em64t
%arm64  aarch64
%power64    ppc64 ppc64p7 ppc64le
%riscv      %{riscv32} %{riscv64} %{riscv128}
</code></pre></div>


<p>s390x doesn't have a macro, use the string.</p>
<p><a href="https://github.com/rpm-software-management/rpm/blob/f8fb0690582b60307c7ec6f8babb48d49b2578ad/macros.in#L1121">Full list of arch macros</a></p>
<p>Note: <code>%{java_arches}</code> is there if needed.</p>
<p>Super important note: If a package is noarch, you can't filter the arches with <code>%ifarch</code>/<code>%ifnarch</code>, <code>%ifarch</code> in such case only matches <code>noarch</code>.
This only works correctly for arched packages.</p>
        </section>

        <br><br><br>

        <footer>
          <div class="adjust-width">
            <div id="author-block" class="w3-light-grey w3-border">
              <div id="author-info">
                <a href="mailto:w_oczekiwaniu[at]interia.pl"><img class="avatar" src="./images/extra/karo.jpg" onerror="this.src='theme/images/avatar.png'" alt="Avatar"></a>
                <div style="margin-left: 20px;">
                  <a href="mailto:w_oczekiwaniu[at]interia.pl"><span id="author-name" class="w3-hover-text-dark-grey">Karo</span></a>
                  <p id="author-story">Hi there! I’m Karo. Whenever not computering, I read yet another book or hike through South Moravia.</p>
                </div>
              </div>
            </div>
          </div>

          <br><br><br>




        </footer>
      </div>
    </article>


    <footer id="footer">
      <div id="footer-copyright" class="w3-center w3-small w3-text-grey w3-padding-48">
        <span>
          &copy;
          2021&dash;2025          Karo
 | <a href="https://karolinasurma.eu/feeds/all.atom.xml">Atom feed <i class="fa fa-rss" aria-hidden="true"></i></a>        </span>
      </div>
    </footer>

  </body>
</html>